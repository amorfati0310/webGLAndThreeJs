<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>ThreeJS Practice 1</title>

    <style>
        body { margin: 0; }
        canvas { width: 100%; height: 100% }
    </style>
</head>
<body>
<!-- Div for the threeJS scene -->
<div id="threejs_scene"></div>
<!-- My threeJS Javascript codes here -->
<script src="./lib/three.js"></script>
<script>
  var scene = new THREE.Scene();
  var camera = new THREE.PerspectiveCamera( 75, window.innerWidth / window.innerHeight, 0.1, 1000 );

  var renderer = new THREE.WebGLRenderer();
  renderer.setSize( window.innerWidth, window.innerHeight );


  renderer.setClearColor(0xFFFFFF);
  renderer.shadowMap.enabled = true;
  var axes = new THREE.AxesHelper(10);
  scene.add(axes);

  var planeGeometry = new THREE.PlaneGeometry(60,30,1,1);
  var planeMaterial = new THREE.MeshBasicMaterial({color: 0xCCCCCC});
  var plane = new THREE.Mesh(planeGeometry, planeMaterial);
  plane.rotation.x = -0.5 * Math.PI;
  plane.receiveShadow = true;

  scene.add(plane);

  var geometry = new THREE.BoxGeometry( 6, 6, 6 );
  var material = new THREE.MeshPhongMaterial( { color: 0x74c0fc } );
  var cube = new THREE.Mesh( geometry, material );
  cube.position.x = 0;
  cube.position.y = 10;
  cube.position.z = 10;
  cube.castShadow = true;

  scene.add( cube );

  // 카메라 포지션!!!
  camera.position.x = 0;
  camera.position.y = 30;
  camera.position.z = 30;
  camera.lookAt(scene.position);



  // 구 추가
  var sphereGeometry = new THREE.SphereGeometry(2,32,32);
  var sphereMaterial = new THREE.MeshPhongMaterial({color: 0xFE98A0});
  var sphere = new THREE.Mesh(sphereGeometry, sphereMaterial);
  sphere.position.x = -15;
  sphere.position.y = 2;
  sphere.position.z = 0;
  sphere.castShadow = true;

  scene.add(sphere);

  var step = 0;
  console.dir(sphere);

  var spotLight = new THREE.SpotLight(0xFFFFFF);
  spotLight.position.set(-40,60,30);
  spotLight.castShadow = true;
  spotLight.shadow.mapSize.width = 5120;
  spotLight.shadow.mapSize.height = 5120;
  scene.add(spotLight);



  document.body.appendChild( renderer.domElement );
  function render() {
    requestAnimationFrame( render );
    cube.rotation.x += 0.01;
    cube.rotation.y += 0.01;
    renderer.render( scene, camera );
    step += 0.08;
    sphere.position.y = 9 + (5 * Math.cos(step));
  }
  render();



</script>
</body>
</html>